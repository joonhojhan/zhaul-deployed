(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{244:function(e,t,s){},245:function(e,t,s){},440:function(e,t,s){},441:function(e,t,s){},442:function(e,t,s){"use strict";s.r(t);var a=s(0),r=s.n(a),n=s(34),c=s.n(n),i=(s(244),s(35)),l=(s(245),s(40)),o=(s(246),s(247),s(202)),A=s(9),d="LOGIN",u="LOGOUT",m="SIGNUP",x="USER_LOADED",p="GET_TRUCK",b="GET_TRUCKS",j="GET_AVAILABLE_TRUCKS",h="CLEAR_TRUCK",f="GET_RESERVATIONS_HISTORY",g={user:null,isAuthenticated:null,loading:!0},y={reservations:null,loading:!0},O={truck:null,trucks:null,available:null,loading:!0},v=Object(l.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,s=t.type,a=t.payload;switch(s){case x:return a.id?Object(A.a)(Object(A.a)({},e),{},{isAuthenticated:!0,loading:!1,user:a}):Object(A.a)(Object(A.a)({},e),{},{isAuthenticated:!1,loading:!1,user:null});case d:case m:return Object(A.a)(Object(A.a)({},e),{},{isAuthenticated:!0,loading:!1,user:a});case u:return Object(A.a)(Object(A.a)({},e),{},{isAuthenticated:!1,loading:!1,user:null});default:return e}},reservations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,s=t.type,a=t.payload;return s===f?Object(A.a)(Object(A.a)({},e),{},{reservations:a,loading:!1}):e},trucks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0,s=t.type,a=t.payload;switch(s){case b:return Object(A.a)(Object(A.a)({},e),{},{trucks:a,loading:!1});case j:return Object(A.a)(Object(A.a)({},e),{},{available:a,loading:!1});case p:return Object(A.a)(Object(A.a)({},e),{},{loading:!1,truck:a});case h:return Object(A.a)(Object(A.a)({},e),{},{loading:!1,truck:null});default:return e}}}),w=Object(l.compose)(Object(l.applyMiddleware)(o.a));var N=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return void console.error(t)}}(),k=Object(l.createStore)(v,N,w);k.subscribe((function(){return function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(s){console.error(s)}}(k.getState())}));var S=k,T=s(6),C=s(10),E=s(2),P=Object(C.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.auth,s=t.isAuthenticated,a=t.loading,r=t.user,n=e.children;return s&&r&&!a?n:Object(E.jsx)(T.a,{to:"/login"})})),I=s(5),L=s(7),R=s.n(L),z=s(22),V=s(27),q=s.n(V),U={withCredentials:!0},W=function(){return function(){var e=Object(z.a)(R.a.mark((function e(t){var s,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.a.get("/auth/me",U);case 3:s=e.sent,a=s.data,t({type:x,payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},F=function(){return function(){var e=Object(z.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.a.post("/auth/logout",null,U);case 3:t({type:u}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},K=s.p+"static/media/ZHAUL_logo_final.92c8ba84.png";var Z=Object(C.b)((function(e){return{auth:e.auth}}),{login:function(e,t){return function(){var s=Object(z.a)(R.a.mark((function s(a){var r,n,c;return R.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return r={email:e,password:t},s.prev=1,s.next=4,q.a.post("/auth/login",r,U);case 4:n=s.sent,c=n.data,a({type:d,payload:c}),a(W()),s.next=13;break;case 10:s.prev=10,s.t0=s.catch(1),console.error(s.t0);case 13:case"end":return s.stop()}}),s,null,[[1,10]])})));return function(e){return s.apply(this,arguments)}}()}})((function(e){var t=e.auth.isAuthenticated,s=e.login,r=Object(a.useState)(""),n=Object(I.a)(r,2),c=n[0],l=n[1],o=Object(a.useState)(""),A=Object(I.a)(o,2),d=A[0],u=A[1];return t?Object(E.jsx)(T.a,{to:"/"}):Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"min-h-full flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[Object(E.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[Object(E.jsx)("img",{className:"mx-auto h-36 w-auto",src:K,alt:"Workflow"}),Object(E.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),Object(E.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",Object(E.jsx)(i.b,{to:"/register",className:"font-medium text-cyan-500 hover:text-cyan-600",children:"register here!"})]})]}),Object(E.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:Object(E.jsx)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:Object(E.jsxs)("form",{className:"space-y-6",onSubmit:function(e){e.preventDefault(),s(c,d)},children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),Object(E.jsx)("div",{className:"mt-1",children:Object(E.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm",onChange:function(e){return l(e.target.value)}})})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),Object(E.jsx)("div",{className:"mt-1",children:Object(E.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm",onChange:function(e){return u(e.target.value)}})})]}),Object(E.jsx)("div",{children:Object(E.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-cyan-600 hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500",children:"Sign in"})})]})})})]})})}));var D=Object(C.b)((function(e){return{auth:e.auth}}),{signup:function(e,t,s,a){return function(){var r=Object(z.a)(R.a.mark((function r(n){var c,i,l;return R.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c={firstName:e,lastName:t,email:s,password:a},r.prev=1,r.next=4,q.a.post("/auth/signup",c,U);case 4:i=r.sent,l=i.data,n({type:m,payload:l}),n(W()),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),console.error(r.t0);case 13:case"end":return r.stop()}}),r,null,[[1,10]])})));return function(e){return r.apply(this,arguments)}}()}})((function(e){var t=e.auth.isAuthenticated,s=e.signup,r=Object(a.useState)(""),n=Object(I.a)(r,2),c=n[0],l=n[1],o=Object(a.useState)(""),A=Object(I.a)(o,2),d=A[0],u=A[1],m=Object(a.useState)(""),x=Object(I.a)(m,2),p=x[0],b=x[1],j=Object(a.useState)(""),h=Object(I.a)(j,2),f=h[0],g=h[1],y=Object(a.useState)(""),O=Object(I.a)(y,2),v=O[0],w=O[1];return t?Object(E.jsx)(T.a,{to:"/"}):Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"min-h-full flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[Object(E.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[Object(E.jsx)("img",{className:"mx-auto h-36 w-auto",src:K,alt:"Workflow"}),Object(E.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your new account"}),Object(E.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",Object(E.jsx)(i.b,{to:"/",className:"font-medium text-cyan-500 hover:text-cyan-600",children:"sign in here!"})]})]}),Object(E.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:Object(E.jsx)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:Object(E.jsxs)("form",{className:"space-y-6",onSubmit:function(e){e.preventDefault(),f===v?s(c,d,p,f):alert("Passwords do not match!")},children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First name"}),Object(E.jsx)("div",{className:"mt-1",children:Object(E.jsx)("input",{id:"firstName",name:"firstName",type:"text",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm",onChange:function(e){return l(e.target.value)}})})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),Object(E.jsx)("div",{className:"mt-1",children:Object(E.jsx)("input",{id:"lastName",name:"lastName",type:"text",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm",onChange:function(e){return u(e.target.value)}})})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),Object(E.jsx)("div",{className:"mt-1",children:Object(E.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm",onChange:function(e){return b(e.target.value)}})})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),Object(E.jsx)("div",{className:"mt-1",children:Object(E.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm",onChange:function(e){return g(e.target.value)}})})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("label",{htmlFor:"passwordCheck",className:"block text-sm font-medium text-gray-700",children:"Type your password again"}),Object(E.jsx)("div",{className:"mt-1",children:Object(E.jsx)("input",{id:"passwordCheck",name:"passwordCheck",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm",onChange:function(e){return w(e.target.value)}})})]}),Object(E.jsx)("div",{children:Object(E.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-cyan-600 hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500",children:"Create account"})})]})})})]})})})),J=Object(C.b)(null,{logout:F})((function(e){var t=e.activeTab,s=e.setActiveTab,r=e.tabs,n=e.logout,c=Object(a.useState)(!1),i=Object(I.a)(c,2),l=i[0],o=i[1],A=Object(a.useState)(!1),d=Object(I.a)(A,2),u=d[0],m=d[1];return Object(E.jsxs)("nav",{className:"bg-gray-800",children:[Object(E.jsx)("div",{className:"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8",children:Object(E.jsxs)("div",{className:"relative flex items-center justify-between h-16",children:[Object(E.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center sm:hidden",children:Object(E.jsxs)("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white","aria-controls":"mobile-menu","aria-expanded":"false",onClick:function(){return m(!u)},children:[Object(E.jsx)("span",{className:"sr-only",children:"Open main menu"}),Object(E.jsx)("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(E.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})}),Object(E.jsxs)("div",{className:"flex-1 flex items-center justify-center sm:items-stretch sm:justify-start",children:[Object(E.jsxs)("div",{className:"flex-shrink-0 flex items-center",children:[Object(E.jsx)("img",{className:"block lg:hidden h-8 w-auto",src:K,alt:"ZHAUL"}),Object(E.jsx)("img",{className:"hidden lg:block h-8 w-auto",src:K,alt:"ZHAUL"})]}),Object(E.jsx)("div",{className:"hidden sm:block sm:ml-6",children:Object(E.jsx)("div",{className:"flex space-x-4",children:r.map((function(e){return t===e.toLowerCase()?Object(E.jsx)("span",{className:"bg-gray-900 text-white px-3 py-2 rounded-md text-sm font-medium cursor-pointer",onClick:function(){s(e.toLowerCase()),m(!1)},children:e},e):Object(E.jsx)("span",{to:"/".concat(e.toLowerCase()),className:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium cursor-pointer",onClick:function(){s(e.toLowerCase()),m(!1)},children:e},e)}))})})]}),Object(E.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0",children:Object(E.jsxs)("div",{className:"ml-3 relative",children:[Object(E.jsx)("div",{children:Object(E.jsxs)("button",{type:"button",className:"bg-gray-800 flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white",id:"user-menu-button","aria-expanded":"false","aria-haspopup":"true",onClick:function(){return o(!l)},children:[Object(E.jsx)("span",{className:"sr-only",children:"Open user menu"}),Object(E.jsx)("img",{className:"h-8 w-8 rounded-full",src:"data:image/jpeg;base64,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",alt:""})]})}),l&&Object(E.jsxs)("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",tabIndex:"-1",children:[Object(E.jsx)("span",{href:"#",className:"block px-4 py-2 text-sm text-gray-700 cursor-pointer",role:"menuitem",tabIndex:"-1",id:"user-menu-item-0",onClick:function(){s("reservations"),o(!1)},children:"Reservations"}),Object(E.jsx)("span",{href:"#",className:"block px-4 py-2 text-sm text-gray-700 cursor-pointer",role:"menuitem",tabIndex:"-1",id:"user-menu-item-2",onClick:function(){n(),o(!1)},children:"Sign out"})]})]})})]})}),u&&Object(E.jsx)("div",{className:"sm:hidden",id:"mobile-menu",children:Object(E.jsx)("div",{className:"px-2 pt-2 pb-3 space-y-1",children:r.map((function(e){return t===e.toLowerCase()?Object(E.jsx)("span",{className:"bg-gray-900 text-white block px-3 py-2 rounded-md text-base font-medium cursor-pointer",onClick:function(){return s(e.toLowerCase())},children:e},e):Object(E.jsx)("span",{className:"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium cursor-pointer",onClick:function(){return s(e.toLowerCase())},children:e},e)}))})})]})})),H=s(132),X={withCredentials:!0},M=function(e,t,s){return function(){var a=Object(z.a)(R.a.mark((function a(r){var n,c,i;return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={start:e,end:t,truckId:s},a.prev=1,a.next=4,q.a.post("/api/reservations",n,X);case 4:c=a.sent,i=c.data,r({type:"MAKE_RESERVATION",payload:i}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),console.error(a.t0);case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()},Y=s(447),G=(s(273),function(e){var t=e.handleStepsForward,s=e.startDate,r=e.setStartDate,n=e.endDate,c=e.setEndDate,i=e.type,l=e.setType,o=e.setTruckId;Object(a.useEffect)((function(){l("all"),o(null)}),[]);return Object(E.jsxs)("div",{className:"pt-6",children:[Object(E.jsx)("div",{className:"text-lg",children:"Select a start and end time:"}),Object(E.jsx)("div",{children:Object(E.jsx)(Y.a,{defaultValue:s&&n?[s,n]:null,disabledDate:Y.a.beforeToday(),ranges:[],format:"yyyy-MM-dd HH:mm",onOk:function(e){var t=Object(I.a)(e,2),s=t[0],a=t[1];r(s),c(a)}})}),Object(E.jsx)("div",{className:"text-lg pt-6",children:"Select truck type:"}),Object(E.jsx)("div",{children:Object(E.jsx)("select",{id:"type",name:"type",className:"mt-1 block pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm rounded-md",onChange:function(e){return l(e.target.value)},children:["all","compact","mid-size","full-size","heavy-duty"].map((function(e){return Object(E.jsx)("option",{value:e,checked:i===e,children:e},e)}))})}),Object(E.jsx)("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-cyan-500 hover:bg-cyan-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500 float-right",onClick:function(e){s&&n?i?t(e):alert("Please select a truck type before moving on!"):alert("Please select a start date/time and end date/time before moving on!")},children:"Choose a truck"})]})}),B={withCredentials:!0},Q=s.p+"static/media/spinner.8981e9a5.gif",_=function(){return Object(E.jsx)(a.Fragment,{children:Object(E.jsx)("img",{src:Q,style:{width:"50px",margin:"auto"},alt:"Loading..."})})},$=Object(C.b)((function(e){return{trucks:e.trucks}}),{getAvailableTrucks:function(e,t,s){return function(){var a=Object(z.a)(R.a.mark((function a(r){var n,c,i,l;return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=e.toString(),c=t.toString(),a.next=5,q.a.get("/api/trucks/available?start=".concat(n,"&end=").concat(c,"&type=").concat(s),B);case 5:i=a.sent,l=i.data,r({type:j,payload:l}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.error(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.startDate,s=e.endDate,r=e.type,n=e.handleStepsForward,c=e.handleStepsBack,i=e.truckId,l=e.setTruckId,o=e.trucks.available,A=e.getAvailableTrucks;return Object(a.useEffect)((function(){A(t,s,r)}),[]),Object(E.jsxs)("div",{className:"pt-6",children:[Object(E.jsx)("div",{className:"flex flex-col",children:Object(E.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:Object(E.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:Object(E.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:o?o.length?Object(E.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(E.jsx)("thead",{className:"bg-gray-50",children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),Object(E.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),Object(E.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price / Day"}),Object(E.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider float-right",children:"Select"})]})}),Object(E.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map((function(e){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),Object(E.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.type}),Object(E.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"$".concat(e.price)}),Object(E.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 float-right mr-4",children:Object(E.jsx)("input",{type:"checkbox",checked:i===e.id,disabled:null!==i&&i!==e.id,onChange:function(){i===e.id?l(null):l(e.id)}})})]},e.id)}))})]}):Object(E.jsx)(a.Fragment,{children:Object(E.jsx)("div",{className:"text-center pt-6 text-lg",children:"There are not trucks available in the given time frame and/or type!"})}):Object(E.jsx)(_,{})})})})}),Object(E.jsxs)("div",{className:"pt-6",children:[Object(E.jsx)("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-cyan-500 hover:bg-cyan-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500 float-left",onClick:c,children:"Select date & time"}),Object(E.jsx)("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-cyan-500 hover:bg-cyan-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500 float-right",onClick:function(e){i?n(e):alert("Please select a truck to reserve!")},children:"Payment"})]})]})})),ee=s(216),te=s(55);s(440);function se(e){var t=e.setShowStripe,s=e.toggle,r=e.handleCheckout,n=Object(te.useStripe)(),c=Object(te.useElements)(),i=Object(a.useState)(null),l=Object(I.a)(i,2),o=l[0],A=l[1],d=Object(a.useState)(!1),u=Object(I.a)(d,2),m=u[0],x=u[1];Object(a.useEffect)((function(){if(n){var e=new URLSearchParams(window.location.search).get("payment_intent_client_secret");e&&n.retrievePaymentIntent(e).then((function(e){switch(e.paymentIntent.status){case"succeeded":A("Payment succeeded!");break;case"processing":A("Your payment is processing.");break;case"requires_payment_method":A("Your payment was not successful, please try again.");break;default:A("Something went wrong.")}}))}}),[n]);var p=function(){var e=Object(z.a)(R.a.mark((function e(t){var s,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n&&c){e.next=3;break}return e.abrupt("return");case 3:return x(!0),r(),e.next=7,n.confirmPayment({elements:c,confirmParams:{return_url:"https://zhaul.herokuapp.com/"}});case 7:s=e.sent,"card_error"===(a=s.error).type||"validation_error"===a.type?A(a.message):A("An unexpected error occured."),x(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{className:"bg-white rounded-md",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:"10"},children:Object(E.jsxs)("form",{style:{height:"100%",minHeight:"350px",maxheight:"600px",width:"30vw",minWidth:"500px",alignSelf:"center",boxShadow:"0px 0px 0px 0.5px rgba(50, 50, 93, 0.1),0px 2px 5px 0px rgba(50, 50, 93, 0.1), 0px 1px 1.5px 0px rgba(0, 0, 0, 0.07)",borderRadius:"7px",padding:"40px"},onSubmit:p,children:[Object(E.jsx)(te.PaymentElement,{id:"payment-element"}),Object(E.jsx)("button",{className:"float-left",style:{background:"#5469d4",fontFmaily:"Arial, sans-serif",color:"#ffffff",borderRadius:"4px",border:"0",padding:"12px 16px",fontSize:"16px",fontWeight:"600",cursor:"pointer",display:"block",transition:"all 0.2s ease",boxShadow:"0px 4px 5.5px 0px rgba(0, 0, 0, 0.07)",width:"40%"},onClick:function(){t(!1),s()},children:"Cancel"}),Object(E.jsx)("button",{className:"float-right",style:{background:"#5469d4",fontFmaily:"Arial, sans-serif",color:"#ffffff",borderRadius:"4px",border:"0",padding:"12px 16px",fontSize:"16px",fontWeight:"600",cursor:"pointer",display:"block",transition:"all 0.2s ease",boxShadow:"0px 4px 5.5px 0px rgba(0, 0, 0, 0.07)",width:"40%"},disabled:m||!n||!c,id:"submit",children:Object(E.jsx)("span",{id:"button-text",children:m?Object(E.jsx)("div",{className:"spinner",id:"spinner"}):"Pay now"})}),o&&Object(E.jsx)("div",{id:"payment-message",children:o})]})})}var ae=Object(ee.a)("pk_test_51JvziXKFrlW2A37YKTmfeZpUyDOXtwwNJrg2jv1s3I3OCnqqAcJILbDbYuOFwSecPPzmuU3dj59kNjLQCsc6ZlXt00KXmrdlNV");var re=Object(C.b)((function(e){return{trucks:e.trucks}}),null)((function(e){var t=e.setShowStripe,s=e.toggle,r=e.trucks.truck,n=e.start,c=e.end,i=e.handleCheckout,l=Object(a.useState)(""),o=Object(I.a)(l,2),A=o[0],d=o[1];Object(a.useEffect)((function(){fetch("https://zhaul.herokuapp.com/api/stripe/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:r,start:n,end:c})}).then((function(e){return e.json()})).then((function(e){return d(e.clientSecret)}))}),[]);var u={clientSecret:A,appearance:{theme:"stripe"}};return Object(E.jsx)("div",{style:{zIndex:10},children:A&&Object(E.jsx)(te.Elements,{options:u,stripe:ae,children:Object(E.jsx)(se,{setShowStripe:t,toggle:s,handleCheckout:i})})})})),ne=function(){var e=Object(a.useState)(!1),t=Object(I.a)(e,2),s=t[0],r=t[1],n=document.querySelector("html"),c=document.querySelector("body");return s?(n.style.overflow="hidden",c.style.overflow="hidden"):(n.style.overflow="",c.style.overflow=""),{isShowing:s,toggle:function(){r(!s)}}},ce=(s(441),function(e){e.toggle;return Object(E.jsx)("div",{className:"modal-overlay"})}),ie=Object(C.b)((function(e){return{trucks:e.trucks}}),{getTruck:function(e){return function(){var t=Object(z.a)(R.a.mark((function t(s){var a,r;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,q.a.get("/api/trucks/".concat(e));case 3:a=t.sent,r=a.data,s({type:p,payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},clearTruck:function(){return function(e){e({type:h})}},makeReservation:M})((function(e){var t=e.handleStepsBack,s=e.startDate,r=e.endDate,n=e.truckId,c=e.getTruck,i=(e.clearTruck,e.makeReservation),l=e.trucks.truck,o=(e.setActiveTab,Object(a.useState)(!1)),A=Object(I.a)(o,2),d=A[0],u=A[1],m=ne(),x=m.isShowing,p=m.toggle;Object(a.useEffect)((function(){c(n)}),[]);return l?Object(E.jsxs)("div",{className:"pt-6",children:[Object(E.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[Object(E.jsxs)("div",{className:"px-4 py-5 sm:px-6",children:[Object(E.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Reservation Information"}),Object(E.jsx)("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Please confirm everything is correct before checking out!"})]}),Object(E.jsx)("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-0",children:Object(E.jsxs)("dl",{className:"sm:divide-y sm:divide-gray-200",children:[Object(E.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[Object(E.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Start Date"}),Object(E.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-start-3 sm:col-span-1",children:s.toLocaleString()})]}),Object(E.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[Object(E.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"End Date"}),Object(E.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-start-3 sm:col-span-1",children:r.toLocaleString()})]}),Object(E.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[Object(E.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Truck Name"}),Object(E.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-start-3 sm:col-span-1",children:l.name})]}),Object(E.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[Object(E.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Truck Type"}),Object(E.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-start-3 sm:col-span-1",children:l.type})]}),Object(E.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[Object(E.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Price / Day"}),Object(E.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-start-3 sm:col-span-1",children:"$".concat(l.price)})]}),Object(E.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[Object(E.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Total Price"}),Object(E.jsxs)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-start-3 sm:col-span-1",children:["$",(Number(l.price*(r-s))/864e5).toFixed(2)]})]})]})})]}),Object(E.jsxs)("div",{className:"pt-6",children:[Object(E.jsx)("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-cyan-500 hover:bg-cyan-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500 float-left mb-6",onClick:t,children:"Choose a truck"}),Object(E.jsx)("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-cyan-500 hover:bg-cyan-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500 float-right mb-6",onClick:function(e){e.preventDefault(),p(),u(!0)},children:"Checkout"})]}),d&&Object(E.jsx)(re,{setShowStripe:u,toggle:p,start:s,end:r,handleCheckout:function(){i(s,r,n)}}),x&&Object(E.jsx)(ce,{toggle:p})]}):Object(E.jsx)(_,{})})),le=Object(C.b)((function(e){return{trucks:e.trucks}}),{makeReservation:M})((function(e){var t=e.setActiveTab,s=Object(a.useState)([{name:"Select date & time",completed:!1,current:!0},{name:"Choose a truck",completed:!1,current:!1},{name:"Checkout",completed:!1,current:!1}]),r=Object(I.a)(s,2),n=r[0],c=r[1],i=Object(a.useState)(0),l=Object(I.a)(i,2),o=l[0],A=l[1],d=Object(a.useState)(null),u=Object(I.a)(d,2),m=u[0],x=u[1],p=Object(a.useState)(null),b=Object(I.a)(p,2),j=b[0],h=b[1],f=Object(a.useState)("all"),g=Object(I.a)(f,2),y=g[0],O=g[1],v=Object(a.useState)(null),w=Object(I.a)(v,2),N=w[0],k=w[1],S=function(e){e.preventDefault();for(var t=Object(H.a)(n),s=o+1;s>=0;s--)s===o+1?(t[s].current=!0,t[s].completed=!1):(t[s].current=!1,t[s].completed=!0);A(o+1),c(t)},T=function(e){e.preventDefault();for(var t=Object(H.a)(n),s=o-1;s<n.length;s++)s===o-1?(t[s].current=!0,t[s].completed=!1):(t[s].current=!1,t[s].completed=!1);A(o-1),c(t)};return Object(E.jsxs)("div",{className:"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8 pt-6",children:[Object(E.jsx)("div",{className:"md:flex md:items-center md:justify-between pb-6",children:Object(E.jsx)("div",{className:"flex-1 min-w-0",children:Object(E.jsx)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Reserve a Truck"})})}),Object(E.jsx)("nav",{"aria-label":"Progress",children:Object(E.jsx)("ol",{role:"list",className:"border border-gray-300 rounded-md divide-y divide-gray-300 md:flex md:divide-y-0",children:n.map((function(e,t){return e.current?Object(E.jsxs)("li",{className:"relative md:flex-1 md:flex",children:[Object(E.jsxs)("span",{className:"px-6 py-4 flex items-center text-sm font-medium",children:[Object(E.jsx)("span",{className:"flex-shrink-0 w-10 h-10 flex items-center justify-center border-2 border-cyan-500 rounded-full",children:Object(E.jsx)("span",{className:"text-cyan-500",children:"0".concat(t+1)})}),Object(E.jsx)("span",{className:"ml-4 text-sm font-medium text-cyan-500",children:e.name})]}),t<n.length-1&&Object(E.jsx)("div",{className:"hidden md:block absolute top-0 right-0 h-full w-5",children:Object(E.jsx)("svg",{className:"h-full w-full text-gray-300",viewBox:"0 0 22 80",fill:"none",preserveAspectRatio:"none",children:Object(E.jsx)("path",{d:"M0 -2L20 40L0 82",vectorEffect:"non-scaling-stroke",stroke:"currentcolor",strokeLinejoin:"round"})})})]},t):e.completed?Object(E.jsxs)("li",{className:"relative md:flex-1 md:flex",children:[Object(E.jsx)("span",{className:"group flex items-center w-full",children:Object(E.jsxs)("span",{className:"px-6 py-4 flex items-center text-sm font-medium",children:[Object(E.jsx)("span",{className:"flex-shrink-0 w-10 h-10 flex items-center justify-center bg-cyan-500 rounded-full group-hover:bg-cyan-600",children:Object(E.jsx)("svg",{className:"w-6 h-6 text-white",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:Object(E.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),Object(E.jsx)("span",{className:"ml-4 text-sm font-medium text-gray-900",children:e.name})]})}),t<n.length-1&&Object(E.jsx)("div",{className:"hidden md:block absolute top-0 right-0 h-full w-5","aria-hidden":"true",children:Object(E.jsx)("svg",{className:"h-full w-full text-gray-300",viewBox:"0 0 22 80",fill:"none",preserveAspectRatio:"none",children:Object(E.jsx)("path",{d:"M0 -2L20 40L0 82",vectorEffect:"non-scaling-stroke",stroke:"currentcolor",strokeLinejoin:"round"})})})]},t):Object(E.jsxs)("li",{className:"relative md:flex-1 md:flex",children:[Object(E.jsx)("span",{className:"group flex items-center",children:Object(E.jsxs)("span",{className:"px-6 py-4 flex items-center text-sm font-medium",children:[Object(E.jsx)("span",{className:"flex-shrink-0 w-10 h-10 flex items-center justify-center border-2 border-gray-300 rounded-full group-hover:border-gray-400",children:Object(E.jsx)("span",{className:"text-gray-500 group-hover:text-gray-900",children:"0".concat(t+1)})}),Object(E.jsx)("span",{className:"ml-4 text-sm font-medium text-gray-500 group-hover:text-gray-900",children:e.name})]})}),t<n.length-1&&Object(E.jsx)("div",{className:"hidden md:block absolute top-0 right-0 h-full w-5","aria-hidden":"true",children:Object(E.jsx)("svg",{className:"h-full w-full text-gray-300",viewBox:"0 0 22 80",fill:"none",preserveAspectRatio:"none",children:Object(E.jsx)("path",{d:"M0 -2L20 40L0 82",vectorEffect:"non-scaling-stroke",stroke:"currentcolor",strokeLinejoin:"round"})})})]},t)}))})}),0===o&&Object(E.jsx)(G,{handleStepsForward:S,startDate:m,setStartDate:x,endDate:j,setEndDate:h,type:y,setType:O,setTruckId:k}),1===o&&Object(E.jsx)($,{startDate:m,endDate:j,handleStepsForward:S,handleStepsBack:T,truckId:N,setTruckId:k,type:y,setType:O}),2===o&&Object(E.jsx)(ie,{handleStepsBack:T,startDate:m,endDate:j,truckId:N,setActiveTab:t})]})})),oe=Object(C.b)((function(e){return{reservations:e.reservations}}),{getReservationsHistory:function(){return function(){var e=Object(z.a)(R.a.mark((function e(t){var s,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.a.get("/api/reservations/history",X);case 3:s=e.sent,a=s.data,t({type:f,payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.getReservationsHistory,s=e.reservations.reservations;return Object(a.useEffect)((function(){t()}),[]),s?s.length?Object(E.jsxs)("div",{className:"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8 pt-6",children:[Object(E.jsx)("div",{className:"md:flex md:items-center md:justify-between pb-6",children:Object(E.jsx)("div",{className:"flex-1 min-w-0",children:Object(E.jsx)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Reservations History"})})}),Object(E.jsx)("div",{className:"flex flex-col",children:Object(E.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:Object(E.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:Object(E.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:Object(E.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(E.jsx)("thead",{className:"bg-gray-50",children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Truck"}),Object(E.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),Object(E.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Start Time"}),Object(E.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"End Time"}),Object(E.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"})]})}),Object(E.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((function(e){var t=new Date(e.start),s=new Date(e.end);return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.truck.name}),Object(E.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.truck.type}),Object(E.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.toLocaleString()}),Object(E.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.toLocaleString()}),Object(E.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["$",e.price]})]},e.id)}))})]})})})})})]}):Object(E.jsx)(a.Fragment,{children:Object(E.jsx)("div",{className:"text-center pt-6 text-lg",children:"You don't have any past reservations!"})}):Object(E.jsx)(_,{})})),Ae=Object(C.b)(null,{logout:F})((function(e){e.logout;var t=Object(a.useState)("reservations"),s=Object(I.a)(t,2),r=s[0],n=s[1];return Object(E.jsxs)(a.Fragment,{children:[Object(E.jsx)(J,{activeTab:r,setActiveTab:n,tabs:["Reservations","Reserve"]}),"reservations"===r.toLowerCase()&&Object(E.jsx)(oe,{}),"reserve"===r.toLowerCase()&&Object(E.jsx)(le,{setActiveTab:n})]})})),de=function(){return Object(E.jsxs)(T.d,{children:[Object(E.jsx)(T.b,{exact:!0,path:"/login",element:Object(E.jsx)(Z,{})}),Object(E.jsx)(T.b,{exact:!0,path:"/register",element:Object(E.jsx)(D,{})}),Object(E.jsx)(T.b,{exact:!0,path:"/home",element:Object(E.jsx)(P,{children:Object(E.jsx)(Ae,{})})}),Object(E.jsx)(T.b,{exact:!0,path:"/",element:Object(E.jsx)(T.a,{to:"/home"})})]})};var ue=function(){return Object(a.useEffect)((function(){S.dispatch(W())}),[]),Object(E.jsx)(a.Fragment,{children:Object(E.jsx)(i.a,{children:Object(E.jsx)(de,{})})})},me=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,448)).then((function(t){var s=t.getCLS,a=t.getFID,r=t.getFCP,n=t.getLCP,c=t.getTTFB;s(e),a(e),r(e),n(e),c(e)}))};c.a.render(Object(E.jsx)(C.a,{store:S,children:Object(E.jsx)(r.a.StrictMode,{children:Object(E.jsx)(ue,{})})}),document.getElementById("root")),me()}},[[442,1,2]]]);
//# sourceMappingURL=main.9c5a4d2a.chunk.js.map