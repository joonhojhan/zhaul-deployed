(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{244:function(e,t,r){},245:function(e,t,r){},440:function(e,t,r){},441:function(e,t,r){},442:function(e,t,r){"use strict";r.r(t);var s=r(0),a=r.n(s),n=r(34),c=r.n(n),i=(r(244),r(35)),l=(r(245),r(40)),o=(r(246),r(247),r(202)),A=r(7),d="LOGIN",u="LOGOUT",m="LOGIN_ERROR",x="SIGNUP",p="SIGNIN_ERROR",b="CLEAR_AUTH_ERROR",j="USER_LOADED",h="GET_TRUCK",f="GET_TRUCKS",g="GET_AVAILABLE_TRUCKS",O="CLEAR_TRUCK",y="GET_RESERVATIONS_HISTORY",v={user:null,isAuthenticated:null,loading:!0,error:null},w={reservations:null,loading:!0},N={truck:null,trucks:null,available:null,loading:!0},k=Object(l.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,r=t.type,s=t.payload;switch(r){case j:return s.id?Object(A.a)(Object(A.a)({},e),{},{isAuthenticated:!0,loading:!1,user:s}):Object(A.a)(Object(A.a)({},e),{},{isAuthenticated:!1,loading:!1,user:null});case d:case x:return Object(A.a)(Object(A.a)({},e),{},{isAuthenticated:!0,loading:!1,user:s});case u:return Object(A.a)(Object(A.a)({},e),{},{isAuthenticated:!1,loading:!1,user:null});case m:return Object(A.a)(Object(A.a)({},e),{},{isAuthenticated:!1,loading:!1,user:null,error:{type:m,message:"Error occurred while signing in. Please check if your credentials are correct."}});case p:return Object(A.a)(Object(A.a)({},e),{},{isAuthenticated:!1,loading:!1,user:null,error:{type:p,message:"Error occurred while creating your account. A user with this email may already exist."}});case b:return Object(A.a)(Object(A.a)({},e),{},{error:null});default:return e}},reservations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0,r=t.type,s=t.payload;return r===y?Object(A.a)(Object(A.a)({},e),{},{reservations:s,loading:!1}):e},trucks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0,r=t.type,s=t.payload;switch(r){case f:return Object(A.a)(Object(A.a)({},e),{},{trucks:s,loading:!1});case g:return Object(A.a)(Object(A.a)({},e),{},{available:s,loading:!1});case h:return Object(A.a)(Object(A.a)({},e),{},{loading:!1,truck:s});case O:return Object(A.a)(Object(A.a)({},e),{},{loading:!1,truck:null});default:return e}}}),S=Object(l.compose)(Object(l.applyMiddleware)(o.a));var T=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return void console.error(t)}}(),C=Object(l.createStore)(k,T,S);C.subscribe((function(){return function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(r){console.error(r)}}(C.getState())}));var E=C,R=r(6),P=r(10),I=r(2),L=Object(P.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.auth,r=t.isAuthenticated,s=t.loading,a=t.user,n=e.children;return r&&a&&!s?n:Object(I.jsx)(R.a,{to:"/login"})})),z=r(5),V=r(8),q=r.n(V),U=r(22),W=r(27),F=r.n(W),K={withCredentials:!0},Z=function(){return function(){var e=Object(U.a)(q.a.mark((function e(t){var r,s;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.get("/auth/me",K);case 3:r=e.sent,s=r.data,t({type:j,payload:s}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},D=function(){return function(){var e=Object(U.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.post("/auth/logout",null,K);case 3:t({type:u}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},J=function(){return function(e){e({type:b})}},H=r.p+"static/media/ZHAUL_logo_final.92c8ba84.png";var X=Object(P.b)((function(e){return{auth:e.auth}}),{login:function(e,t){return function(){var r=Object(U.a)(q.a.mark((function r(s){var a,n,c;return q.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a={email:e,password:t},r.prev=1,r.next=4,F.a.post("/auth/login",a,K);case 4:n=r.sent,c=n.data,s({type:d,payload:c}),s(Z()),r.next=14;break;case 10:r.prev=10,r.t0=r.catch(1),s({type:m}),console.error(r.t0);case 14:case"end":return r.stop()}}),r,null,[[1,10]])})));return function(e){return r.apply(this,arguments)}}()},clearAuthError:J})((function(e){var t=e.auth,r=t.isAuthenticated,a=t.error,n=e.login,c=e.clearAuthError;Object(s.useEffect)((function(){c()}),[]);var l=Object(s.useState)(""),o=Object(z.a)(l,2),A=o[0],d=o[1],u=Object(s.useState)(""),m=Object(z.a)(u,2),x=m[0],p=m[1];return r?Object(I.jsx)(R.a,{to:"/"}):Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("div",{className:"min-h-full flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[Object(I.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[Object(I.jsx)("img",{className:"mx-auto h-36 w-auto",src:H,alt:"Workflow"}),Object(I.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),Object(I.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",Object(I.jsx)(i.b,{to:"/register",className:"font-medium text-cyan-500 hover:text-cyan-600",children:"register here!"})]})]}),Object(I.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:Object(I.jsx)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:Object(I.jsxs)("form",{className:"space-y-6",onSubmit:function(e){e.preventDefault(),n(A,x)},children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),Object(I.jsx)("div",{className:"mt-1",children:Object(I.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm",onChange:function(e){return d(e.target.value)}})})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),Object(I.jsx)("div",{className:"mt-1",children:Object(I.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm",onChange:function(e){return p(e.target.value)}})})]}),a&&a.message&&Object(I.jsx)("div",{className:"text-red-800 text-base",children:a.message}),Object(I.jsx)("div",{children:Object(I.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-cyan-600 hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500",children:"Sign in"})})]})})})]})})}));var M=Object(P.b)((function(e){return{auth:e.auth}}),{signup:function(e,t,r,s){return function(){var a=Object(U.a)(q.a.mark((function a(n){var c,i,l;return q.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c={firstName:e,lastName:t,email:r,password:s},a.prev=1,a.next=4,F.a.post("/auth/signup",c,K);case 4:i=a.sent,l=i.data,n({type:x,payload:l}),n(Z()),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),n({type:p}),console.error(a.t0);case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()},clearAuthError:J})((function(e){var t=e.auth,r=t.isAuthenticated,a=t.error,n=e.signup,c=e.clearAuthError;Object(s.useEffect)((function(){c()}),[]);var l=Object(s.useState)(""),o=Object(z.a)(l,2),A=o[0],d=o[1],u=Object(s.useState)(""),m=Object(z.a)(u,2),x=m[0],p=m[1],b=Object(s.useState)(""),j=Object(z.a)(b,2),h=j[0],f=j[1],g=Object(s.useState)(""),O=Object(z.a)(g,2),y=O[0],v=O[1],w=Object(s.useState)(""),N=Object(z.a)(w,2),k=N[0],S=N[1];return r?Object(I.jsx)(R.a,{to:"/"}):Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("div",{className:"min-h-full flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[Object(I.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[Object(I.jsx)("img",{className:"mx-auto h-36 w-auto",src:H,alt:"Workflow"}),Object(I.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your new account"}),Object(I.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",Object(I.jsx)(i.b,{to:"/",className:"font-medium text-cyan-500 hover:text-cyan-600",children:"sign in here!"})]})]}),Object(I.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:Object(I.jsx)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:Object(I.jsxs)("form",{className:"space-y-6",onSubmit:function(e){e.preventDefault(),y===k?n(A,x,h,y):alert("Passwords do not match!")},children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First name"}),Object(I.jsx)("div",{className:"mt-1",children:Object(I.jsx)("input",{id:"firstName",name:"firstName",type:"text",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm",onChange:function(e){return d(e.target.value)}})})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),Object(I.jsx)("div",{className:"mt-1",children:Object(I.jsx)("input",{id:"lastName",name:"lastName",type:"text",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm",onChange:function(e){return p(e.target.value)}})})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),Object(I.jsx)("div",{className:"mt-1",children:Object(I.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm",onChange:function(e){return f(e.target.value)}})})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),Object(I.jsx)("div",{className:"mt-1",children:Object(I.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm",onChange:function(e){return v(e.target.value)}})})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{htmlFor:"passwordCheck",className:"block text-sm font-medium text-gray-700",children:"Type your password again"}),Object(I.jsx)("div",{className:"mt-1",children:Object(I.jsx)("input",{id:"passwordCheck",name:"passwordCheck",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm",onChange:function(e){return S(e.target.value)}})})]}),a&&a.message&&Object(I.jsx)("div",{className:"text-red-800 text-base",children:a.message}),Object(I.jsx)("div",{children:Object(I.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-cyan-600 hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500",children:"Create account"})})]})})})]})})})),Y=Object(P.b)(null,{logout:D})((function(e){var t=e.activeTab,r=e.setActiveTab,a=e.tabs,n=e.logout,c=Object(s.useState)(!1),i=Object(z.a)(c,2),l=i[0],o=i[1],A=Object(s.useState)(!1),d=Object(z.a)(A,2),u=d[0],m=d[1];return Object(I.jsxs)("nav",{className:"bg-gray-800",children:[Object(I.jsx)("div",{className:"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8",children:Object(I.jsxs)("div",{className:"relative flex items-center justify-between h-16",children:[Object(I.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center sm:hidden",children:Object(I.jsxs)("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white","aria-controls":"mobile-menu","aria-expanded":"false",onClick:function(){return m(!u)},children:[Object(I.jsx)("span",{className:"sr-only",children:"Open main menu"}),Object(I.jsx)("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(I.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})}),Object(I.jsxs)("div",{className:"flex-1 flex items-center justify-center sm:items-stretch sm:justify-start",children:[Object(I.jsxs)("div",{className:"flex-shrink-0 flex items-center",children:[Object(I.jsx)("img",{className:"block lg:hidden h-8 w-auto",src:H,alt:"ZHAUL"}),Object(I.jsx)("img",{className:"hidden lg:block h-8 w-auto",src:H,alt:"ZHAUL"})]}),Object(I.jsx)("div",{className:"hidden sm:block sm:ml-6",children:Object(I.jsx)("div",{className:"flex space-x-4",children:a.map((function(e){return t===e.toLowerCase()?Object(I.jsx)("span",{className:"bg-gray-900 text-white px-3 py-2 rounded-md text-sm font-medium cursor-pointer",onClick:function(){r(e.toLowerCase()),m(!1)},children:e},e):Object(I.jsx)("span",{to:"/".concat(e.toLowerCase()),className:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium cursor-pointer",onClick:function(){r(e.toLowerCase()),m(!1)},children:e},e)}))})})]}),Object(I.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0",children:Object(I.jsxs)("div",{className:"ml-3 relative",children:[Object(I.jsx)("div",{children:Object(I.jsxs)("button",{type:"button",className:"bg-gray-800 flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white",id:"user-menu-button","aria-expanded":"false","aria-haspopup":"true",onClick:function(){return o(!l)},children:[Object(I.jsx)("span",{className:"sr-only",children:"Open user menu"}),Object(I.jsx)("img",{className:"h-8 w-8 rounded-full",src:"data:image/jpeg;base64,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",alt:""})]})}),l&&Object(I.jsxs)("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",tabIndex:"-1",children:[Object(I.jsx)("span",{href:"#",className:"block px-4 py-2 text-sm text-gray-700 cursor-pointer",role:"menuitem",tabIndex:"-1",id:"user-menu-item-0",onClick:function(){r("reservations"),o(!1)},children:"Reservations"}),Object(I.jsx)("span",{href:"#",className:"block px-4 py-2 text-sm text-gray-700 cursor-pointer",role:"menuitem",tabIndex:"-1",id:"user-menu-item-2",onClick:function(){n(),o(!1)},children:"Sign out"})]})]})})]})}),u&&Object(I.jsx)("div",{className:"sm:hidden",id:"mobile-menu",children:Object(I.jsx)("div",{className:"px-2 pt-2 pb-3 space-y-1",children:a.map((function(e){return t===e.toLowerCase()?Object(I.jsx)("span",{className:"bg-gray-900 text-white block px-3 py-2 rounded-md text-base font-medium cursor-pointer",onClick:function(){return r(e.toLowerCase())},children:e},e):Object(I.jsx)("span",{className:"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium cursor-pointer",onClick:function(){return r(e.toLowerCase())},children:e},e)}))})})]})})),G=r(132),B={withCredentials:!0},Q=function(e,t,r){return function(){var s=Object(U.a)(q.a.mark((function s(a){var n,c,i;return q.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n={start:e,end:t,truckId:r},s.prev=1,s.next=4,F.a.post("/api/reservations",n,B);case 4:c=s.sent,i=c.data,a({type:"MAKE_RESERVATION",payload:i}),s.next=12;break;case 9:s.prev=9,s.t0=s.catch(1),console.error(s.t0);case 12:case"end":return s.stop()}}),s,null,[[1,9]])})));return function(e){return s.apply(this,arguments)}}()},_=r(447),$=(r(273),function(e){var t=e.handleStepsForward,r=e.startDate,a=e.setStartDate,n=e.endDate,c=e.setEndDate,i=e.type,l=e.setType,o=e.setTruckId;Object(s.useEffect)((function(){l("all"),o(null)}),[]);return Object(I.jsxs)("div",{className:"pt-6",children:[Object(I.jsx)("div",{className:"text-lg",children:"Select a start and end time:"}),Object(I.jsx)("div",{children:Object(I.jsx)(_.a,{defaultValue:r&&n?[r,n]:null,disabledDate:_.a.beforeToday(),ranges:[],format:"yyyy-MM-dd HH:mm",onOk:function(e){var t=Object(z.a)(e,2),r=t[0],s=t[1];a(r),c(s)}})}),Object(I.jsx)("div",{className:"text-lg pt-6",children:"Select truck type:"}),Object(I.jsx)("div",{children:Object(I.jsx)("select",{id:"type",name:"type",className:"mt-1 block pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm rounded-md",onChange:function(e){return l(e.target.value)},children:["all","compact","mid-size","full-size","heavy-duty"].map((function(e){return Object(I.jsx)("option",{value:e,checked:i===e,children:e},e)}))})}),Object(I.jsx)("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-cyan-500 hover:bg-cyan-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500 float-right",onClick:function(e){r&&n?i?t(e):alert("Please select a truck type before moving on!"):alert("Please select a start date/time and end date/time before moving on!")},children:"Choose a truck"})]})}),ee={withCredentials:!0},te=r.p+"static/media/spinner.8981e9a5.gif",re=function(){return Object(I.jsx)(s.Fragment,{children:Object(I.jsx)("img",{src:te,style:{width:"50px",margin:"auto"},alt:"Loading..."})})},se=Object(P.b)((function(e){return{trucks:e.trucks}}),{getAvailableTrucks:function(e,t,r){return function(){var s=Object(U.a)(q.a.mark((function s(a){var n,c,i,l;return q.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,n=e.toString(),c=t.toString(),s.next=5,F.a.get("/api/trucks/available?start=".concat(n,"&end=").concat(c,"&type=").concat(r),ee);case 5:i=s.sent,l=i.data,a({type:g,payload:l}),s.next=13;break;case 10:s.prev=10,s.t0=s.catch(0),console.error(s.t0);case 13:case"end":return s.stop()}}),s,null,[[0,10]])})));return function(e){return s.apply(this,arguments)}}()}})((function(e){var t=e.startDate,r=e.endDate,a=e.type,n=e.handleStepsForward,c=e.handleStepsBack,i=e.truckId,l=e.setTruckId,o=e.trucks.available,A=e.getAvailableTrucks;return Object(s.useEffect)((function(){A(t,r,a)}),[]),Object(I.jsxs)("div",{className:"pt-6",children:[Object(I.jsx)("div",{className:"flex flex-col",children:Object(I.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:Object(I.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:Object(I.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:o?o.length?Object(I.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(I.jsx)("thead",{className:"bg-gray-50",children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),Object(I.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),Object(I.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price / Day"}),Object(I.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider float-right",children:"Select"})]})}),Object(I.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map((function(e){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),Object(I.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.type}),Object(I.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"$".concat(e.price)}),Object(I.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 float-right mr-4",children:Object(I.jsx)("input",{type:"checkbox",checked:i===e.id,disabled:null!==i&&i!==e.id,onChange:function(){i===e.id?l(null):l(e.id)}})})]},e.id)}))})]}):Object(I.jsx)(s.Fragment,{children:Object(I.jsx)("div",{className:"text-center pt-6 text-lg",children:"There are not trucks available in the given time frame and/or type!"})}):Object(I.jsx)(re,{})})})})}),Object(I.jsxs)("div",{className:"pt-6",children:[Object(I.jsx)("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-cyan-500 hover:bg-cyan-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500 float-left",onClick:c,children:"Select date & time"}),Object(I.jsx)("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-cyan-500 hover:bg-cyan-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500 float-right",onClick:function(e){i?n(e):alert("Please select a truck to reserve!")},children:"Payment"})]})]})})),ae=r(216),ne=r(55);r(440);function ce(e){var t=e.setShowStripe,r=e.toggle,a=e.handleCheckout,n=Object(ne.useStripe)(),c=Object(ne.useElements)(),i=Object(s.useState)(null),l=Object(z.a)(i,2),o=l[0],A=l[1],d=Object(s.useState)(!1),u=Object(z.a)(d,2),m=u[0],x=u[1];Object(s.useEffect)((function(){if(n){var e=new URLSearchParams(window.location.search).get("payment_intent_client_secret");e&&n.retrievePaymentIntent(e).then((function(e){switch(e.paymentIntent.status){case"succeeded":A("Payment succeeded!");break;case"processing":A("Your payment is processing.");break;case"requires_payment_method":A("Your payment was not successful, please try again.");break;default:A("Something went wrong.")}}))}}),[n]);var p=function(){var e=Object(U.a)(q.a.mark((function e(t){var r,s;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n&&c){e.next=3;break}return e.abrupt("return");case 3:return x(!0),e.next=6,n.confirmPayment({elements:c,redirect:"if_required"});case 6:r=e.sent,(s=r.error)?"card_error"===s.type||"validation_error"===s.type?A(s.message):A("An unexpected error occured."):(a(),window.location="https://zhaul.herokuapp.com",alert("Payment confirmed! Reservation was made! Please click OK to view your reservations.")),x(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsx)("div",{className:"bg-white rounded-md",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:"10"},children:Object(I.jsxs)("form",{style:{height:"100%",minHeight:"350px",maxheight:"600px",width:"30vw",minWidth:"500px",alignSelf:"center",boxShadow:"0px 0px 0px 0.5px rgba(50, 50, 93, 0.1),0px 2px 5px 0px rgba(50, 50, 93, 0.1), 0px 1px 1.5px 0px rgba(0, 0, 0, 0.07)",borderRadius:"7px",padding:"40px",paddingBottom:"70px"},onSubmit:p,children:[Object(I.jsx)(ne.PaymentElement,{id:"payment-element"}),Object(I.jsx)("button",{className:"float-left",style:{background:"#5469d4",fontFmaily:"Arial, sans-serif",color:"#ffffff",borderRadius:"4px",border:"0",padding:"12px 16px",fontSize:"16px",fontWeight:"600",cursor:"pointer",display:"block",transition:"all 0.2s ease",boxShadow:"0px 4px 5.5px 0px rgba(0, 0, 0, 0.07)",width:"40%"},onClick:function(){t(!1),r()},children:"Cancel"}),Object(I.jsx)("button",{className:"float-right",style:{background:"#5469d4",fontFmaily:"Arial, sans-serif",color:"#ffffff",borderRadius:"4px",border:"0",padding:"12px 16px",fontSize:"16px",fontWeight:"600",cursor:"pointer",display:"block",transition:"all 0.2s ease",boxShadow:"0px 4px 5.5px 0px rgba(0, 0, 0, 0.07)",width:"40%"},disabled:m||!n||!c,id:"submit",children:Object(I.jsx)("span",{id:"button-text",children:m?Object(I.jsx)("div",{className:"spinner",id:"spinner"}):"Pay now"})}),o&&Object(I.jsx)("div",{id:"payment-message",children:o})]})})}var ie=Object(ae.a)("pk_test_51JvziXKFrlW2A37YKTmfeZpUyDOXtwwNJrg2jv1s3I3OCnqqAcJILbDbYuOFwSecPPzmuU3dj59kNjLQCsc6ZlXt00KXmrdlNV");var le=Object(P.b)((function(e){return{trucks:e.trucks}}),null)((function(e){var t=e.setShowStripe,r=e.toggle,a=e.trucks.truck,n=e.start,c=e.end,i=e.handleCheckout,l=Object(s.useState)(""),o=Object(z.a)(l,2),A=o[0],d=o[1];Object(s.useEffect)((function(){fetch("https://zhaul.herokuapp.com/api/stripe/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:a,start:n,end:c})}).then((function(e){return e.json()})).then((function(e){return d(e.clientSecret)}))}),[]);var u={clientSecret:A,appearance:{theme:"stripe"}};return Object(I.jsx)("div",{style:{zIndex:10},children:A&&Object(I.jsx)(ne.Elements,{options:u,stripe:ie,children:Object(I.jsx)(ce,{setShowStripe:t,toggle:r,handleCheckout:i})})})})),oe=function(){var e=Object(s.useState)(!1),t=Object(z.a)(e,2),r=t[0],a=t[1],n=document.querySelector("html"),c=document.querySelector("body");return r?(n.style.overflow="hidden",c.style.overflow="hidden"):(n.style.overflow="",c.style.overflow=""),{isShowing:r,toggle:function(){a(!r)}}},Ae=(r(441),function(e){e.toggle;return Object(I.jsx)("div",{className:"modal-overlay"})}),de=Object(P.b)((function(e){return{trucks:e.trucks}}),{getTruck:function(e){return function(){var t=Object(U.a)(q.a.mark((function t(r){var s,a;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F.a.get("/api/trucks/".concat(e));case 3:s=t.sent,a=s.data,r({type:h,payload:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},clearTruck:function(){return function(e){e({type:O})}},makeReservation:Q})((function(e){var t=e.handleStepsBack,r=e.startDate,a=e.endDate,n=e.truckId,c=e.getTruck,i=(e.clearTruck,e.makeReservation),l=e.trucks.truck,o=(e.setActiveTab,Object(s.useState)(!1)),A=Object(z.a)(o,2),d=A[0],u=A[1],m=oe(),x=m.isShowing,p=m.toggle;Object(s.useEffect)((function(){c(n)}),[]);return l?Object(I.jsxs)("div",{className:"pt-6",children:[Object(I.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[Object(I.jsxs)("div",{className:"px-4 py-5 sm:px-6",children:[Object(I.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Reservation Information"}),Object(I.jsx)("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Please confirm everything is correct before checking out!"})]}),Object(I.jsx)("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-0",children:Object(I.jsxs)("dl",{className:"sm:divide-y sm:divide-gray-200",children:[Object(I.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[Object(I.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Start Date"}),Object(I.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-start-3 sm:col-span-1",children:r.toLocaleString()})]}),Object(I.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[Object(I.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"End Date"}),Object(I.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-start-3 sm:col-span-1",children:a.toLocaleString()})]}),Object(I.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[Object(I.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Truck Name"}),Object(I.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-start-3 sm:col-span-1",children:l.name})]}),Object(I.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[Object(I.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Truck Type"}),Object(I.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-start-3 sm:col-span-1",children:l.type})]}),Object(I.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[Object(I.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Price / Day"}),Object(I.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-start-3 sm:col-span-1",children:"$".concat(l.price)})]}),Object(I.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[Object(I.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Total Price"}),Object(I.jsxs)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-start-3 sm:col-span-1",children:["$",(Number(l.price*(a-r))/864e5).toFixed(2)]})]})]})})]}),Object(I.jsxs)("div",{className:"pt-6",children:[Object(I.jsx)("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-cyan-500 hover:bg-cyan-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500 float-left mb-6",onClick:t,children:"Choose a truck"}),Object(I.jsx)("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-cyan-500 hover:bg-cyan-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500 float-right mb-6",onClick:function(e){e.preventDefault(),p(),u(!0)},children:"Checkout"})]}),d&&Object(I.jsx)(le,{setShowStripe:u,toggle:p,start:r,end:a,handleCheckout:function(){i(r,a,n)}}),x&&Object(I.jsx)(Ae,{toggle:p})]}):Object(I.jsx)(re,{})})),ue=Object(P.b)((function(e){return{trucks:e.trucks}}),{makeReservation:Q})((function(e){var t=e.setActiveTab,r=Object(s.useState)([{name:"Select date & time",completed:!1,current:!0},{name:"Choose a truck",completed:!1,current:!1},{name:"Checkout",completed:!1,current:!1}]),a=Object(z.a)(r,2),n=a[0],c=a[1],i=Object(s.useState)(0),l=Object(z.a)(i,2),o=l[0],A=l[1],d=Object(s.useState)(null),u=Object(z.a)(d,2),m=u[0],x=u[1],p=Object(s.useState)(null),b=Object(z.a)(p,2),j=b[0],h=b[1],f=Object(s.useState)("all"),g=Object(z.a)(f,2),O=g[0],y=g[1],v=Object(s.useState)(null),w=Object(z.a)(v,2),N=w[0],k=w[1],S=function(e){e.preventDefault();for(var t=Object(G.a)(n),r=o+1;r>=0;r--)r===o+1?(t[r].current=!0,t[r].completed=!1):(t[r].current=!1,t[r].completed=!0);A(o+1),c(t)},T=function(e){e.preventDefault();for(var t=Object(G.a)(n),r=o-1;r<n.length;r++)r===o-1?(t[r].current=!0,t[r].completed=!1):(t[r].current=!1,t[r].completed=!1);A(o-1),c(t)};return Object(I.jsxs)("div",{className:"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8 pt-6",children:[Object(I.jsx)("div",{className:"md:flex md:items-center md:justify-between pb-6",children:Object(I.jsx)("div",{className:"flex-1 min-w-0",children:Object(I.jsx)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Reserve a Truck"})})}),Object(I.jsx)("nav",{"aria-label":"Progress",children:Object(I.jsx)("ol",{role:"list",className:"border border-gray-300 rounded-md divide-y divide-gray-300 md:flex md:divide-y-0",children:n.map((function(e,t){return e.current?Object(I.jsxs)("li",{className:"relative md:flex-1 md:flex",children:[Object(I.jsxs)("span",{className:"px-6 py-4 flex items-center text-sm font-medium",children:[Object(I.jsx)("span",{className:"flex-shrink-0 w-10 h-10 flex items-center justify-center border-2 border-cyan-500 rounded-full",children:Object(I.jsx)("span",{className:"text-cyan-500",children:"0".concat(t+1)})}),Object(I.jsx)("span",{className:"ml-4 text-sm font-medium text-cyan-500",children:e.name})]}),t<n.length-1&&Object(I.jsx)("div",{className:"hidden md:block absolute top-0 right-0 h-full w-5",children:Object(I.jsx)("svg",{className:"h-full w-full text-gray-300",viewBox:"0 0 22 80",fill:"none",preserveAspectRatio:"none",children:Object(I.jsx)("path",{d:"M0 -2L20 40L0 82",vectorEffect:"non-scaling-stroke",stroke:"currentcolor",strokeLinejoin:"round"})})})]},t):e.completed?Object(I.jsxs)("li",{className:"relative md:flex-1 md:flex",children:[Object(I.jsx)("span",{className:"group flex items-center w-full",children:Object(I.jsxs)("span",{className:"px-6 py-4 flex items-center text-sm font-medium",children:[Object(I.jsx)("span",{className:"flex-shrink-0 w-10 h-10 flex items-center justify-center bg-cyan-500 rounded-full group-hover:bg-cyan-600",children:Object(I.jsx)("svg",{className:"w-6 h-6 text-white",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:Object(I.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),Object(I.jsx)("span",{className:"ml-4 text-sm font-medium text-gray-900",children:e.name})]})}),t<n.length-1&&Object(I.jsx)("div",{className:"hidden md:block absolute top-0 right-0 h-full w-5","aria-hidden":"true",children:Object(I.jsx)("svg",{className:"h-full w-full text-gray-300",viewBox:"0 0 22 80",fill:"none",preserveAspectRatio:"none",children:Object(I.jsx)("path",{d:"M0 -2L20 40L0 82",vectorEffect:"non-scaling-stroke",stroke:"currentcolor",strokeLinejoin:"round"})})})]},t):Object(I.jsxs)("li",{className:"relative md:flex-1 md:flex",children:[Object(I.jsx)("span",{className:"group flex items-center",children:Object(I.jsxs)("span",{className:"px-6 py-4 flex items-center text-sm font-medium",children:[Object(I.jsx)("span",{className:"flex-shrink-0 w-10 h-10 flex items-center justify-center border-2 border-gray-300 rounded-full group-hover:border-gray-400",children:Object(I.jsx)("span",{className:"text-gray-500 group-hover:text-gray-900",children:"0".concat(t+1)})}),Object(I.jsx)("span",{className:"ml-4 text-sm font-medium text-gray-500 group-hover:text-gray-900",children:e.name})]})}),t<n.length-1&&Object(I.jsx)("div",{className:"hidden md:block absolute top-0 right-0 h-full w-5","aria-hidden":"true",children:Object(I.jsx)("svg",{className:"h-full w-full text-gray-300",viewBox:"0 0 22 80",fill:"none",preserveAspectRatio:"none",children:Object(I.jsx)("path",{d:"M0 -2L20 40L0 82",vectorEffect:"non-scaling-stroke",stroke:"currentcolor",strokeLinejoin:"round"})})})]},t)}))})}),0===o&&Object(I.jsx)($,{handleStepsForward:S,startDate:m,setStartDate:x,endDate:j,setEndDate:h,type:O,setType:y,setTruckId:k}),1===o&&Object(I.jsx)(se,{startDate:m,endDate:j,handleStepsForward:S,handleStepsBack:T,truckId:N,setTruckId:k,type:O,setType:y}),2===o&&Object(I.jsx)(de,{handleStepsBack:T,startDate:m,endDate:j,truckId:N,setActiveTab:t})]})})),me=Object(P.b)((function(e){return{reservations:e.reservations}}),{getReservationsHistory:function(){return function(){var e=Object(U.a)(q.a.mark((function e(t){var r,s;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.get("/api/reservations/history",B);case 3:r=e.sent,s=r.data,t({type:y,payload:s}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.getReservationsHistory,r=e.reservations.reservations;return Object(s.useEffect)((function(){t()}),[]),r?r.length?Object(I.jsxs)("div",{className:"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8 pt-6",children:[Object(I.jsx)("div",{className:"md:flex md:items-center md:justify-between pb-6",children:Object(I.jsx)("div",{className:"flex-1 min-w-0",children:Object(I.jsx)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Reservations History"})})}),Object(I.jsx)("div",{className:"flex flex-col",children:Object(I.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:Object(I.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:Object(I.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:Object(I.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(I.jsx)("thead",{className:"bg-gray-50",children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Truck"}),Object(I.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),Object(I.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Start Time"}),Object(I.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"End Time"}),Object(I.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"})]})}),Object(I.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map((function(e){var t=new Date(e.start),r=new Date(e.end);return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.truck.name}),Object(I.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.truck.type}),Object(I.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.toLocaleString()}),Object(I.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.toLocaleString()}),Object(I.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["$",e.price]})]},e.id)}))})]})})})})})]}):Object(I.jsx)(s.Fragment,{children:Object(I.jsx)("div",{className:"text-center pt-6 text-lg",children:"You don't have any past reservations!"})}):Object(I.jsx)(re,{})})),xe=Object(P.b)(null,{logout:D})((function(e){e.logout;var t=Object(s.useState)("reservations"),r=Object(z.a)(t,2),a=r[0],n=r[1];return Object(I.jsxs)(s.Fragment,{children:[Object(I.jsx)(Y,{activeTab:a,setActiveTab:n,tabs:["Reservations","Reserve"]}),"reservations"===a.toLowerCase()&&Object(I.jsx)(me,{}),"reserve"===a.toLowerCase()&&Object(I.jsx)(ue,{setActiveTab:n})]})})),pe=function(){return Object(I.jsxs)(R.d,{children:[Object(I.jsx)(R.b,{exact:!0,path:"/login",element:Object(I.jsx)(X,{})}),Object(I.jsx)(R.b,{exact:!0,path:"/register",element:Object(I.jsx)(M,{})}),Object(I.jsx)(R.b,{exact:!0,path:"/home",element:Object(I.jsx)(L,{children:Object(I.jsx)(xe,{})})}),Object(I.jsx)(R.b,{exact:!0,path:"/",element:Object(I.jsx)(R.a,{to:"/home"})})]})};var be=function(){return Object(s.useEffect)((function(){E.dispatch(Z())}),[]),Object(I.jsx)(s.Fragment,{children:Object(I.jsx)(i.a,{children:Object(I.jsx)(pe,{})})})},je=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,448)).then((function(t){var r=t.getCLS,s=t.getFID,a=t.getFCP,n=t.getLCP,c=t.getTTFB;r(e),s(e),a(e),n(e),c(e)}))};c.a.render(Object(I.jsx)(P.a,{store:E,children:Object(I.jsx)(a.a.StrictMode,{children:Object(I.jsx)(be,{})})}),document.getElementById("root")),je()}},[[442,1,2]]]);
//# sourceMappingURL=main.57d89258.chunk.js.map